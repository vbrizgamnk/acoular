<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
          PUBLIC
          "-//W3C//DTD XHTML 1.1//EN"
          "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Class beamfpy.beamfpy.PowerSpectra</title>
    <link rel="stylesheet" type="text/css" href="class.css"/>
    <script type="text/javascript" src="scr.js"></script>
    
  </head>
  <body>
    
    
    <div id="header">

    <div id="nav-bar">
    <ul>
    <li><a href="index.html">Module Index</a></li>
    <li><a href="class_hierarchy.html">Class Hierarchy</a></li>
    <li><a href="class_index.html">Class Index</a></li>
    <li><a href="namespace_index.html">Namespace Index</a></li>
    </ul>
    </div>
    <h1>Class <span class="prefix"><a href="beamfpy.html">beamfpy</a>.&#8203;<a href="beamfpy.beamfpy.html">beamfpy</a>.&#8203;</span><a href="beamfpy.beamfpy.PowerSpectra.html">PowerSpectra</a></h1>
    
    </div>

    

<pre>
    efficient calculation of full cross spectral matrix
    container for data and properties of this matrix
    </pre>




<div id="contents">
<ul>
Contents:

<li><a href="#section-superclasses">Base classes</a></li>


<li><a href="#section-variables">Attributes</a></li>




<li><a href="#section-functions">Methods</a></li>

</ul>
</div>


<div id="main">


<h2 id="section-superclasses">Inherits from</h2>
<ul class="doclist">
  
    <li>HasPrivateTraits: enthought.traits.api.HasPrivateTraits</li>
  
</ul>




<h2 id="section-variables">Attributes</h2>
<ul class="doclist">

  <li class="attribute" id="block_size">block_size<pre>FFT block size, one of: 128,256,512,1024,2048 or 4096
defaults to 1024
</pre><pre>block_size = Trait(1024, 128, 256, 512, 1024, 2048, 4096, desc = 'number of samples per FFT block')

</pre></li>

  <li class="attribute" id="calib">calib<pre>the Calib object that provides the calibration data,
defaults to no calibration, i.e. the raw time data is used
</pre><pre>calib = Instance(<a href="beamfpy.beamfpy.Calib.html">Calib</a>)

</pre></li>

  <li class="attribute" id="csm">csm<pre>the cross spectral matrix as
(number of frequencies,numchannels,numchannels) array of complex
</pre><pre>csm = Property(depends_on = [  ], cached = True, desc = 'cross spectral matrix')

</pre></li>

  <li class="attribute" id="csm_flag">csm_flag<pre>flag for internal use
</pre><pre>csm_flag = Property(depends_on = [ 'time_data.digest', 'calib.digest', 'block_size', 'window', 'overlap' ], cached = True, desc = 'flag=1 if csm is invalid')

</pre></li>

  <li class="attribute" id="digest">digest<pre>internal identifier
</pre><pre>digest = Property(depends_on = [ 'time_data.digest', 'calib.digest', 'block_size', 'window', 'overlap', 'ind_low', 'ind_high' ], cached = True)

</pre></li>

  <li class="attribute" id="freq_range">freq_range<pre>frequency range
</pre><pre>freq_range = Property(depends_on = [ 'time_data.digest', 'block_size', 'ind_low', 'ind_high' ], cached = True, desc = 'frequency range')

</pre></li>

  <li class="attribute" id="ind_high">ind_high<pre>index of highest frequency line
defaults to -1 (last possible line for default block_size)
</pre><pre>ind_high = Int(-Const(1), desc = 'index of highest frequency line')

</pre></li>

  <li class="attribute" id="ind_low">ind_low<pre>index of lowest frequency line
defaults to 0
</pre><pre>ind_low = Range(0, desc = 'index of lowest frequency line')

</pre></li>

  <li class="attribute" id="num_blocks">num_blocks<pre>number of FFT blocks to average (auto-set from block_size and overlap)
</pre><pre>num_blocks = Property(depends_on = [ 'time_data.numsamples', 'block_size', 'overlap' ], cached = True, desc = 'overall number of FFT blocks')

</pre></li>

  <li class="attribute" id="overlap">overlap<pre>overlap factor for averaging: 'None'(default),'50%','75%','87.5%'
</pre><pre>overlap = Trait('None', { Const('None') : Const(1), Const('50%') : Const(2), Const('75%') : Const(4), Const('87.5%') : Const(8) }, desc = 'overlap of FFT blocks')

</pre></li>

  <li class="attribute" id="time_data">time_data<pre>the TimeSamples object that provides the data
</pre><pre>time_data = Trait(<a href="beamfpy.beamfpy.TimeSamples.html">TimeSamples</a>, desc = 'time data object')

</pre></li>

  <li class="attribute" id="traits_view">traits_view<pre></pre><pre>traits_view = View([ 'time_data@{}', 'calib@{}', [ 'block_size', 'window', 'overlap', [ 'ind_low{Low Index}', 'ind_high{High Index}', '-[Frequency range indices]' ], [ 'num_blocks~{Number of blocks}', 'freq_range~{Frequency range}', '-' ], '[FFT-parameters]' ] ], buttons = OKCancelButtons)

</pre></li>

  <li class="attribute" id="window">window<pre>window function for FFT, one of:
'Retangular' (default),'Hanning','Hamming','Bartlett','Blackman'
</pre><pre>window = Trait('Retangular', { Const('Retangular') : Name('ones'), Const('Hanning') : Name('hanning'), Const('Hamming') : Name('hamming'), Const('Bartlett') : Name('bartlett'), Const('Blackman') : Name('blackman') }, desc = 'type of window for FFT')

</pre></li>

</ul>









<h2 id="section-functions">Method summary</h2>
<ul class="function-summary">
  
  <li class="function"><a href="#calc_csm">calc_csm</a>(self)</li>
  
  <li class="function"><a href="#fftfreq">fftfreq</a>(self)</li>
  
</ul>




<h2>Methods</h2>
<ul class="doclist">
  
  <li id="calc_csm" class="function">calc_csm(self)<pre>main work is done here:
        cross spectral matrix is either loaded from cache file or
        calculated and then additionally stored into cache
        !! is called automatically
        </pre></li>
  
  <li id="fftfreq" class="function">fftfreq(self)<pre>
        returns an array of the frequencies for
        the spectra in the cross spectral matrix
        </pre></li>
  
</ul>




</div>  <!-- #main -->


    
    
  </body>
</html>

